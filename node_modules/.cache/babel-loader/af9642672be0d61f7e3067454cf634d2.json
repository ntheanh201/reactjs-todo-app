{"ast":null,"code":"import _taggedTemplateLiteral from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/var/www/Vietkentech/reactjs-todo-app (context)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/var/www/Vietkentech/reactjs-todo-app (context)/src/TodoList/components/TodoItem.js\";\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n    position: relative;\\n    margin: 0;\\n    width: 100%;\\n    font-size: 24px;\\n    font-family: inherit;\\n    font-weight: inherit;\\n    line-height: 1.4em;\\n    color: inherit;\\n    padding: 6px;\\n    border: 1px solid #999;\\n    box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\\n    box-sizing: border-box;\\n    -webkit-font-smoothing: antialiased;\\n    -moz-osx-font-smoothing: grayscale;\\n\\n    display: block;\\n    width: calc(100% - 43px);\\n    padding: 12px 16px;\\n    margin: 0 0 0 43px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    display: inline;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    color: #d9d9d9;\\n    text-decoration: line-through;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    word-break: break-all;\\n\\tpadding: 15px 15px 15px 60px;\\n\\tdisplay: block;\\n\\tline-height: 1.23;\\n    transition: color 0.4s;\\n    font-size: 24px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\\n    background-repeat: no-repeat;\\n    background-position: center left;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    display: block;\\n    position: relative;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    ::-webkit-input-placeholder {\\n        font-style: italic;\\n        font-weight: 300;\\n        color: #e6e6e6;\\n    }\\n    ::-moz-placeholder {\\n        font-style: italic;\\n        font-weight: 300;\\n        color: #e6e6e6;\\n    }\\n    ::input-placeholder {\\n        font-style: italic;\\n        font-weight: 300;\\n        color: #e6e6e6;\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport CheckBox from '../../Ui/components/CheckBox';\nimport { TodosContext } from \"../../Contexts/Todos\";\n\nvar TodoItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TodoItem, _Component);\n\n  function TodoItem(props) {\n    var _this;\n\n    _classCallCheck(this, TodoItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TodoItem).call(this, props));\n\n    _this.handleClickOutside = function (event) {\n      // console.log(event.target, this.wrapperRef )\n      if (_this.wrapperRef && !_this.wrapperRef.contains(event.target)) {\n        _this.handleEditMode(false);\n      }\n    };\n\n    _this.setWrapperRef = function (node) {\n      _this.wrapperRef = node;\n    };\n\n    _this.handleEditMode = function (value) {\n      _this.setState({\n        editMode: value\n      });\n    };\n\n    _this._handleKeyDown = function (event) {\n      if (event.key === 'Enter') {\n        _this.handleEditMode(false);\n\n        _this.setState({\n          newLabel: event.target.value\n        }, function () {\n          return _this.context.updateTodo(_objectSpread({}, _this.props.todo, {\n            name: _this.state.newLabel\n          }));\n        });\n      }\n    };\n\n    _this.state = {\n      editMode: false,\n      newLabel: ''\n    };\n    return _this;\n  }\n\n  _createClass(TodoItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.handleClickOutside);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          todo = _this$props.todo,\n          updateTodo = _this$props.updateTodo;\n      return React.createElement(Li, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Wrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(CheckBox, {\n        onClick: function onClick() {\n          return updateTodo(_objectSpread({}, todo, {\n            isDone: !todo.isDone\n          }));\n        },\n        checked: todo.isDone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), this.state.editMode ? React.createElement(EditInput, {\n        onKeyDown: this._handleKeyDown,\n        ref: this.setWrapperRef,\n        defaultValue: todo.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }) : todo.isDone ? React.createElement(DoneLabel, {\n        onDoubleClick: function onDoubleClick() {\n          return _this2.handleEditMode(true);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, todo.name) : React.createElement(UndoneLabel, {\n        onDoubleClick: function onDoubleClick() {\n          return _this2.handleEditMode(true);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, todo.name)));\n    }\n  }]);\n\n  return TodoItem;\n}(Component);\n\nTodoItem.contextType = TodosContext;\nexport { TodoItem as default };\nvar Input = styled.input(_templateObject());\nvar Wrapper = styled.div(_templateObject2());\nvar Label = styled.label(_templateObject3());\nvar UndoneLabel = styled(Label)(_templateObject4());\nvar DoneLabel = styled(UndoneLabel)(_templateObject5());\nvar Li = styled.li(_templateObject6());\nvar EditInput = styled(Input)(_templateObject7()); // const DestroyButton = styled.button`\n//     display: none;\n// \tposition: absolute;\n// \ttop: 0;\n// \tright: 10px;\n// \tbottom: 0;\n// \twidth: 40px;\n// \theight: 40px;\n// \tmargin: auto 0;\n// \tfont-size: 30px;\n// \tcolor: #cc9a9a;\n// \tmargin-bottom: 11px;\n//     transition: color 0.2s ease-out;\n//     :hover {\n//         color: #af5b5e;\n//     }\n//     ::after {\n//         content: '×';\n//     }\n// `;","map":{"version":3,"sources":["/var/www/Vietkentech/reactjs-todo-app (context)/src/TodoList/components/TodoItem.js"],"names":["React","Component","styled","CheckBox","TodosContext","TodoItem","props","handleClickOutside","event","wrapperRef","contains","target","handleEditMode","setWrapperRef","node","value","setState","editMode","_handleKeyDown","key","newLabel","context","updateTodo","todo","name","state","document","addEventListener","removeEventListener","isDone","contextType","Input","input","Wrapper","div","Label","label","UndoneLabel","DoneLabel","Li","li","EditInput"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport styled from 'styled-components';\nimport CheckBox from '../../Ui/components/CheckBox';\nimport { TodosContext } from \"../../Contexts/Todos\";\n\nexport default class TodoItem extends Component {\n    static contextType = TodosContext;\n    constructor(props) {\n        super(props)\n        this.state = {\n            editMode: false,\n            newLabel: ''\n        }\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside = (event) => {\n        // console.log(event.target, this.wrapperRef )\n        if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\n            this.handleEditMode(false)\n        }\n    }\n\n    setWrapperRef = (node) => {\n        this.wrapperRef = node;\n    }\n\n    handleEditMode = (value) => {\n        this.setState({\n            editMode: value\n        })\n    }\n\n    _handleKeyDown = (event) => {\n        if (event.key === 'Enter') {\n            this.handleEditMode(false)\n            this.setState({\n                newLabel: event.target.value\n            },() => this.context.updateTodo({...this.props.todo, name: this.state.newLabel}))\n           \n        }\n    }\n\n    render() {\n        const { todo, updateTodo } = this.props\n        return (\n            <Li>\n                <Wrapper>\n                <CheckBox onClick={() => updateTodo({...todo, isDone: !todo.isDone})} checked={todo.isDone} />\n                    {\n                        \n                        this.state.editMode?\n                        <EditInput\n\n                        onKeyDown={this._handleKeyDown} ref={this.setWrapperRef}\n                         \n                        defaultValue={todo.name} /> \n                        : todo.isDone ? \n                        <DoneLabel \n                        onDoubleClick={() => this.handleEditMode(true)}>{todo.name}\n\n                        </DoneLabel> :\n                         <UndoneLabel \n                         onDoubleClick={() => this.handleEditMode(true)}>{todo.name}\n                         </UndoneLabel>\n                \n                    }\n\n                </Wrapper>\n\n            </Li>\n        )\n    }\n}\n\nconst Input = styled.input`\n    ::-webkit-input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n    ::-moz-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n    ::input-placeholder {\n        font-style: italic;\n        font-weight: 300;\n        color: #e6e6e6;\n    }\n`;\n\nconst Wrapper = styled.div`\n    display: block;\n    position: relative;\n`;\n\nconst Label = styled.label`\n    background-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\n    background-repeat: no-repeat;\n    background-position: center left;\n`;\n\nconst UndoneLabel = styled(Label)`\n    word-break: break-all;\n\tpadding: 15px 15px 15px 60px;\n\tdisplay: block;\n\tline-height: 1.23;\n    transition: color 0.4s;\n    font-size: 24px;\n`;\n\nconst DoneLabel = styled(UndoneLabel)`\n    color: #d9d9d9;\n    text-decoration: line-through;\n`;\n\nconst Li = styled.li`\n    display: inline;\n`;\n\nconst EditInput = styled(Input)`\n    position: relative;\n    margin: 0;\n    width: 100%;\n    font-size: 24px;\n    font-family: inherit;\n    font-weight: inherit;\n    line-height: 1.4em;\n    color: inherit;\n    padding: 6px;\n    border: 1px solid #999;\n    box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    display: block;\n    width: calc(100% - 43px);\n    padding: 12px 16px;\n    margin: 0 0 0 43px;\n`;\n\n// const DestroyButton = styled.button`\n//     display: none;\n// \tposition: absolute;\n// \ttop: 0;\n// \tright: 10px;\n// \tbottom: 0;\n// \twidth: 40px;\n// \theight: 40px;\n// \tmargin: auto 0;\n// \tfont-size: 30px;\n// \tcolor: #cc9a9a;\n// \tmargin-bottom: 11px;\n//     transition: color 0.2s ease-out;\n\n//     :hover {\n//         color: #af5b5e;\n//     }\n\n//     ::after {\n//         content: '×';\n//     }\n// `;"]},"metadata":{},"sourceType":"module"}